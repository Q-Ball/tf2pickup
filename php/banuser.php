<?php // ban user by steamid64include "dbinfo.php";$name = preg_replace("/[^0-9]/", "", $_GET['name']);$reason = $_GET['reason'];$adname = preg_replace("/[^0-9]/", "", $_GET['adname']);if ( !isset($name) or !isset($reason) or !isset($adname) ) { // check if the variables were not passed}else {	$db = new PDO("mysql:host=$dbhost;dbname=$dbname", $dbuser, $dbpass); // connect to the database	$query = $db->query("SELECT * FROM admins"); 	$resultall = $query->fetchAll(PDO::FETCH_ASSOC);	if (empty($adname)) { $adname = '0'; } // fix for empty user value	function isadded($array, $key, $val) {		foreach ($array as $item)			if (isset($item[$key]) && $item[$key] == $val)				return true;		return false;	}	$added = isadded($resultall, 'steamid64', $adname);	if ($added == '1') {		$query = $db->query("INSERT INTO banlist (steamid, reason) VALUES ('$name', '$reason') ON DUPLICATE KEY UPDATE reason=VALUES(reason)");	} else {		echo "Are you sure you can do that?";	}}?>